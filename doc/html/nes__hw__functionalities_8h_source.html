<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>openNES Breakout: C:/Users/Sebastian/Documents/CC65-NES-Development/Repositories/openNES-Breakout/src/nes_hw_functionalities.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">openNES Breakout
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nes__hw__functionalities_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">nes_hw_functionalities.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="nes__hw__functionalities_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ac8a824230b9d05d011bea41b9544c544">   12</a></span>&#160;<span class="preprocessor">#define PPU_CTRL        *((unsigned char*)0x2000)</span></div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a2c961e4a0cf84ebf921109cf79e64af3">   13</a></span>&#160;<span class="preprocessor">#define PPU_MASK        *((unsigned char*)0x2001)</span></div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ae65e5e8df88f586c88b8c6f380403063">   14</a></span>&#160;<span class="preprocessor">#define PPU_STATUS      *((unsigned char*)0x2002)</span></div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a41b76850e35dd59084c7178a13a6b63c">   15</a></span>&#160;<span class="preprocessor">#define OAM_ADDRESS     *((unsigned char*)0x2003)</span></div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a215102fac3f8177efed5327fa6463a1a">   16</a></span>&#160;<span class="preprocessor">#define PPU_SCROLL      *((unsigned char*)0x2005)</span></div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ab4a0af057ce03ec21d25a63076af616b">   17</a></span>&#160;<span class="preprocessor">#define PPU_ADDRESS     *((unsigned char*)0x2006)</span></div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ada54e490418dcd589a07b6b096b63c5b">   18</a></span>&#160;<span class="preprocessor">#define PPU_DATA        *((unsigned char*)0x2007)</span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a534a73247b402d09c7eb82e512ade27d">   19</a></span>&#160;<span class="preprocessor">#define OAM_DMA         *((unsigned char*)0x4014)</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a85ae9767b23edf40871541d23962784b">   30</a></span>&#160;<span class="preprocessor">#define DIR_RIGHT   0x01</span></div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a788d3497514ea05602fd974d7bdcdbde">   31</a></span>&#160;<span class="preprocessor">#define DIR_LEFT    0x02</span></div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a90214d45dd9a40f97bbe24079f40218d">   32</a></span>&#160;<span class="preprocessor">#define DIR_DOWN    0x04</span></div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a480d28eba00f028b351fb2f3312f5409">   33</a></span>&#160;<span class="preprocessor">#define DIR_UP      0x08</span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a3018c7600b7bb9866400596a56a57af7">   34</a></span>&#160;<span class="preprocessor">#define START       0x10</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a53dc4af00adc7b3b4d12eafb71596dfc">   35</a></span>&#160;<span class="preprocessor">#define SELECT      0x20</span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a2454c318caf152737fd63bebddd58ea2">   36</a></span>&#160;<span class="preprocessor">#define B_BUTTON    0x40</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a5ec59d5e4f6bfacfdf3aa6e7ed5c0373">   37</a></span>&#160;<span class="preprocessor">#define A_BUTTON    0x80</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a81c1d6fe8919a09f4a355c251a332715">   46</a></span>&#160;<span class="preprocessor">#define NAMETABLE_A 0x2000</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ac71d4d5fc6a07304ac2a64747a9f3d73">   47</a></span>&#160;<span class="preprocessor">#define NAMETABLE_B 0x2400</span></div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a3ed449e63c8d69dab9a0481721b21e9d">   48</a></span>&#160;<span class="preprocessor">#define NAMETABLE_C 0x2800</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ae5877646ac9641de6c42017eab0607a4">   49</a></span>&#160;<span class="preprocessor">#define NAMETABLE_D 0x2c00</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a705ec7deb75ce089210eaf94aa8d2b1b">   58</a></span>&#160;<span class="preprocessor">#define MAPARRAY_ADR(x,y)   ((y&lt;&lt;2)|(x&gt;&gt;3))</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#aeb61a4e8fff2f4624a632a3189cbd3a0">   63</a></span>&#160;<span class="preprocessor">#define MSB(x)          (((x)&gt;&gt;8))</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a34a3aa6cbadec6a80ab1eae8efd0083d">   67</a></span>&#160;<span class="preprocessor">#define LSB(x)          (((x)&amp;0xff))</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; <span class="comment">/*</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> * The bits of this byte store data as followed (taken from NerdyNights tutorial):</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> * 76543210</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> * |||   ||</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> * |||   ++- Color Palette of sprite.  Choose which set of 4 from the 16 colors to use</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> * |||</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> * ||+------ Priority (0: in front of background; 1: behind background)</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"> * |+------- Flip sprite horizontally</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> * +-------- Flip sprite vertically</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ab9b8471c6f5e12332c17c27d06467647">   83</a></span>&#160;<span class="preprocessor">#define SPRITE_ATTR(flip_horz,flip_vert,prio,pal) ((flip_horz&lt;&lt;7) + (flip_vert&lt;&lt;6) + (prio&lt;&lt;5) + pal)</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/* Globals */</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#pragma bss-name(push, &quot;ZEROPAGE&quot;)</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ab8b8dca4a981215f764d8fa3a5da7130">   91</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#ab8b8dca4a981215f764d8fa3a5da7130">nmi_flag</a>;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a3cf8c20a6e3ae7b8754fc251433d8950">   95</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a3cf8c20a6e3ae7b8754fc251433d8950">frm_count</a>;</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a5abc5420a7f15af7410173395b610ea8">   99</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a5abc5420a7f15af7410173395b610ea8">index</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#af991639de0a899b83418865d449fdb9e">  105</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#af991639de0a899b83418865d449fdb9e">oam_offset</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a8285b7effb12ece2ab49970350288760">  114</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a8285b7effb12ece2ab49970350288760">gamepad_1</a>;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a4b95e3b39d25a63deb8e53276d584955">  115</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a4b95e3b39d25a63deb8e53276d584955">gamepad_1_old</a>;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a7ab1d5584f1fcc61db4ce1639bbfa24e">  116</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a7ab1d5584f1fcc61db4ce1639bbfa24e">gamepad_1_test</a>;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#ac63acc1e4a43f737204a8ec1fa7a91ad">  127</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#ac63acc1e4a43f737204a8ec1fa7a91ad">gamepad_2</a>;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a88539f31950c380f242acf02854845aa">  128</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a88539f31950c380f242acf02854845aa">gamepad_2_old</a>;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a576240ea874939fe615c81c341cb47de">  129</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a576240ea874939fe615c81c341cb47de">gamepad_2_test</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#pragma bss-name(push, &quot;OAM&quot;)</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a554e1dac83bafd7612e03ac0ece3a52d">  137</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a554e1dac83bafd7612e03ac0ece3a52d">ppu_oam</a>[256];             <span class="comment">/* OAM equals ram addresses 200-2ff */</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">#pragma bss-name(push, &quot;MAP&quot;)</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a8676935a08a5d7cf2cecc8d806b29b6e">  144</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a8676935a08a5d7cf2cecc8d806b29b6e">bg_collision_map</a>[256];    <span class="comment">/* Collision map, ram adresses 300-3ff */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#pragma bss-name(push, &quot;BSS&quot;)</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a0b45cdc78ea3064d68498a055f0cdfdb">  150</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a0b45cdc78ea3064d68498a055f0cdfdb">ppu_bg_palette</a>[16];       <span class="comment">/* BG color palette at $3f00-3f0f */</span></div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="nes__hw__functionalities_8h.html#a0b95bbe94125150eb6548fa4412af30a">  154</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a0b95bbe94125150eb6548fa4412af30a">ppu_sprite_palette</a>[16];   <span class="comment">/* Sprite color palette at 3f10-3f1f */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#pragma bss-name (pop)</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">/* C-implemented functions */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#a8feece6ffdf403f3d51c0cf5118e5d81">wait_until_nmi</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#a46080c1f251157fa1c74bcf4fe586000">ppu_turn_all_off</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#a1cd73eeb7504112af5ec6a88bc8428fa">ppu_turn_all_on</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#a3cbab1c8c825c8dd7e439f25de7ef390">ppu_reset_scroll</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#a28fac451801dbe866d2cade3d80476a3">ppu_load_bg_palette</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#a675b5dd3acf91c5844db5be2236c8699">ppu_load_sprite_palette</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="nes__hw__functionalities_8h.html#a082bf910f629f7285c510addbec262ef">ppu_load_sprite_to_oam</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> x, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> tile, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> attribute,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> offset);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                    </div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#a34c94ebddea4cccf8f46406be1408d84">ppu_clear_oam</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#aa48cb068dfda9992f8ce9487815a36dd">set_bg_palette</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="globals_8h.html#a73def7377b35d00806993d5fab31fe42">bg_palette</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#ad2526e9fbf2f02942a0cc7270aad0057">set_sprite_palette</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="globals_8h.html#af23796a848cd6907595256509d429963">sprite_palette</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#aa16e9176ee0d40dc88d3c9da14f6feb8">ppu_draw_background</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *bg, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nametable);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                                                      </div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nes__hw__functionalities_8h.html#a3b0640509d7e01bf4f82a8473fbbe139">load_background_collision_map</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *col_map);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                                           </div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="keywordtype">void</span> __fastcall__ <a class="code" href="nes__hw__functionalities_8h.html#a4cfb1ded0707337c2fc5b5d31bf8078e">get_controller_input</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keywordtype">void</span> __fastcall__ <a class="code" href="nes__hw__functionalities_8h.html#aaac52cccb61f4b5b82fae92b60085690">unpack_RLE</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keywordtype">void</span> __fastcall__ <a class="code" href="nes__hw__functionalities_8h.html#a2dd34400e4601ecff26c9f5882c4cf3c">wait_Vblank</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keywordtype">void</span> __fastcall__ <a class="code" href="nes__hw__functionalities_8h.html#a3d38c0d50bdfde3f95c5a66e9ed68af7">memcpy</a> (<span class="keywordtype">void</span>* dest, <span class="keyword">const</span> <span class="keywordtype">void</span>* src, <span class="keywordtype">int</span> count);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keywordtype">void</span> __fastcall__ <a class="code" href="nes__hw__functionalities_8h.html#ab6488ae01aa85f1891d0d06fa6164fd2">reset_music</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="keywordtype">void</span> __fastcall__ <a class="code" href="nes__hw__functionalities_8h.html#a3dbcf79df7fa03ec1fb990745a030ccd">play_music</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> song);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="keywordtype">void</span> __fastcall__ <a class="code" href="nes__hw__functionalities_8h.html#ad8b34c2fe7b42b098cd341ba451b8099">update_music</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keywordtype">void</span> __fastcall__ <a class="code" href="nes__hw__functionalities_8h.html#acab37f2921e3a469ef12d545918ace65">play_soundeffect</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> effect);</div><div class="ttc" id="nes__hw__functionalities_8h_html_ab8b8dca4a981215f764d8fa3a5da7130"><div class="ttname"><a href="nes__hw__functionalities_8h.html#ab8b8dca4a981215f764d8fa3a5da7130">nmi_flag</a></div><div class="ttdeci">unsigned char nmi_flag</div><div class="ttdoc">Indicator, if VBlank is reached resp. NMI interrupt is triggered. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:91</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_ac63acc1e4a43f737204a8ec1fa7a91ad"><div class="ttname"><a href="nes__hw__functionalities_8h.html#ac63acc1e4a43f737204a8ec1fa7a91ad">gamepad_2</a></div><div class="ttdeci">unsigned char gamepad_2</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:127</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a34c94ebddea4cccf8f46406be1408d84"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a34c94ebddea4cccf8f46406be1408d84">ppu_clear_oam</a></div><div class="ttdeci">void ppu_clear_oam(void)</div><div class="ttdoc">This function clear the whole OAM section of the PPU RAM by writing 0x00 to all spaces. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:90</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_ad2526e9fbf2f02942a0cc7270aad0057"><div class="ttname"><a href="nes__hw__functionalities_8h.html#ad2526e9fbf2f02942a0cc7270aad0057">set_sprite_palette</a></div><div class="ttdeci">void set_sprite_palette(const unsigned char *sprite_palette)</div><div class="ttdoc">This function stores the given sprite color palette into global array ppu_sprite_palette in the BSS s...</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:102</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a4b95e3b39d25a63deb8e53276d584955"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a4b95e3b39d25a63deb8e53276d584955">gamepad_1_old</a></div><div class="ttdeci">unsigned char gamepad_1_old</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:115</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a3cf8c20a6e3ae7b8754fc251433d8950"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a3cf8c20a6e3ae7b8754fc251433d8950">frm_count</a></div><div class="ttdeci">unsigned char frm_count</div><div class="ttdoc">Frame counter, this will be increased once per frame. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:95</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a3b0640509d7e01bf4f82a8473fbbe139"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a3b0640509d7e01bf4f82a8473fbbe139">load_background_collision_map</a></div><div class="ttdeci">void load_background_collision_map(unsigned char *col_map)</div><div class="ttdoc">This function loads the given collision map into global array bg_collision_map in section &amp;#39;MAP&amp;#39;...</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:119</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a2dd34400e4601ecff26c9f5882c4cf3c"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a2dd34400e4601ecff26c9f5882c4cf3c">wait_Vblank</a></div><div class="ttdeci">void __fastcall__ wait_Vblank(void)</div></div>
<div class="ttc" id="globals_8h_html_a73def7377b35d00806993d5fab31fe42"><div class="ttname"><a href="globals_8h.html#a73def7377b35d00806993d5fab31fe42">bg_palette</a></div><div class="ttdeci">const unsigned char bg_palette[16]</div><div class="ttdoc">Background palette. </div><div class="ttdef"><b>Definition:</b> globals.h:47</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a554e1dac83bafd7612e03ac0ece3a52d"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a554e1dac83bafd7612e03ac0ece3a52d">ppu_oam</a></div><div class="ttdeci">unsigned char ppu_oam[256]</div><div class="ttdoc">PPU OAM storage for sprites. See file &amp;#39;config/nes.cfg&amp;#39; for definition of &amp;#39;OAM&amp;#39; space. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:137</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a1cd73eeb7504112af5ec6a88bc8428fa"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a1cd73eeb7504112af5ec6a88bc8428fa">ppu_turn_all_on</a></div><div class="ttdeci">void ppu_turn_all_on(void)</div><div class="ttdoc">This function enables background and sprite rendering. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:19</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a0b45cdc78ea3064d68498a055f0cdfdb"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a0b45cdc78ea3064d68498a055f0cdfdb">ppu_bg_palette</a></div><div class="ttdeci">unsigned char ppu_bg_palette[16]</div><div class="ttdoc">Background color palette. Each four entries represent one palette. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:150</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a3dbcf79df7fa03ec1fb990745a030ccd"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a3dbcf79df7fa03ec1fb990745a030ccd">play_music</a></div><div class="ttdeci">void __fastcall__ play_music(unsigned char song)</div><div class="ttdoc">This function starts playing the song with the given number in the famitone music file...</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a082bf910f629f7285c510addbec262ef"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a082bf910f629f7285c510addbec262ef">ppu_load_sprite_to_oam</a></div><div class="ttdeci">unsigned char ppu_load_sprite_to_oam(unsigned char x, unsigned char y, unsigned char tile, unsigned char attribute, unsigned char offset)</div><div class="ttdoc">This function loads sprite information to the OAM section of PPU RAM. Internally this function loads ...</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:82</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_acab37f2921e3a469ef12d545918ace65"><div class="ttname"><a href="nes__hw__functionalities_8h.html#acab37f2921e3a469ef12d545918ace65">play_soundeffect</a></div><div class="ttdeci">void __fastcall__ play_soundeffect(unsigned char effect)</div><div class="ttdoc">This function plays the sound effect with the given number in the famitone sfx file, specified in file &amp;#39;config/reset.s&amp;#39; with label &amp;#39;sounds_data&amp;#39;. </div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a576240ea874939fe615c81c341cb47de"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a576240ea874939fe615c81c341cb47de">gamepad_2_test</a></div><div class="ttdeci">unsigned char gamepad_2_test</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:129</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a3d38c0d50bdfde3f95c5a66e9ed68af7"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a3d38c0d50bdfde3f95c5a66e9ed68af7">memcpy</a></div><div class="ttdeci">void __fastcall__ memcpy(void *dest, const void *src, int count)</div><div class="ttdoc">This function copies data bulkwise . This is much faster than using a loop for copying data...</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a88539f31950c380f242acf02854845aa"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a88539f31950c380f242acf02854845aa">gamepad_2_old</a></div><div class="ttdeci">unsigned char gamepad_2_old</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:128</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_ab6488ae01aa85f1891d0d06fa6164fd2"><div class="ttname"><a href="nes__hw__functionalities_8h.html#ab6488ae01aa85f1891d0d06fa6164fd2">reset_music</a></div><div class="ttdeci">void __fastcall__ reset_music(void)</div><div class="ttdoc">This function resets the APU and initializes the FamiTone music engine. </div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a46080c1f251157fa1c74bcf4fe586000"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a46080c1f251157fa1c74bcf4fe586000">ppu_turn_all_off</a></div><div class="ttdeci">void ppu_turn_all_off(void)</div><div class="ttdoc">This function disables background and sprite rendering. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:14</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a8676935a08a5d7cf2cecc8d806b29b6e"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a8676935a08a5d7cf2cecc8d806b29b6e">bg_collision_map</a></div><div class="ttdeci">unsigned char bg_collision_map[256]</div><div class="ttdoc">Collision map for collision dectection with background. See See file &amp;#39;config/nes.cfg&amp;#39; for definition ...</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:144</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_aa48cb068dfda9992f8ce9487815a36dd"><div class="ttname"><a href="nes__hw__functionalities_8h.html#aa48cb068dfda9992f8ce9487815a36dd">set_bg_palette</a></div><div class="ttdeci">void set_bg_palette(const unsigned char *bg_palette)</div><div class="ttdoc">This function stores the given background color palette into global array ppu_bg_palette in the BSS s...</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:96</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_aaac52cccb61f4b5b82fae92b60085690"><div class="ttname"><a href="nes__hw__functionalities_8h.html#aaac52cccb61f4b5b82fae92b60085690">unpack_RLE</a></div><div class="ttdeci">void __fastcall__ unpack_RLE(const unsigned char *data)</div><div class="ttdoc">This function unpacks an RLE-compressed nametable and stores it to the address, register PPU_ADDRESS ...</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a8feece6ffdf403f3d51c0cf5118e5d81"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a8feece6ffdf403f3d51c0cf5118e5d81">wait_until_nmi</a></div><div class="ttdeci">void wait_until_nmi(void)</div><div class="ttdoc">This function waits until NMI interrupt is triggered during VBlank (see aöso .NMI section in reset...</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:9</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a28fac451801dbe866d2cade3d80476a3"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a28fac451801dbe866d2cade3d80476a3">ppu_load_bg_palette</a></div><div class="ttdeci">void ppu_load_bg_palette(void)</div><div class="ttdoc">this function loads the background color palette at ppu_bg_palette into PPU RAM $3f00-§f0f. Use function set_bg_palette first in order to write to ppu_bg_palette. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:36</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_ad8b34c2fe7b42b098cd341ba451b8099"><div class="ttname"><a href="nes__hw__functionalities_8h.html#ad8b34c2fe7b42b098cd341ba451b8099">update_music</a></div><div class="ttdeci">void __fastcall__ update_music(void)</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a7ab1d5584f1fcc61db4ce1639bbfa24e"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a7ab1d5584f1fcc61db4ce1639bbfa24e">gamepad_1_test</a></div><div class="ttdeci">unsigned char gamepad_1_test</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:116</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_aa16e9176ee0d40dc88d3c9da14f6feb8"><div class="ttname"><a href="nes__hw__functionalities_8h.html#aa16e9176ee0d40dc88d3c9da14f6feb8">ppu_draw_background</a></div><div class="ttdeci">void ppu_draw_background(const unsigned char *bg, unsigned char nametable)</div><div class="ttdoc">This functions stores the griven background array to the given nametable in order to draw it onto the...</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:108</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a8285b7effb12ece2ab49970350288760"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a8285b7effb12ece2ab49970350288760">gamepad_1</a></div><div class="ttdeci">unsigned char gamepad_1</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:114</div></div>
<div class="ttc" id="globals_8h_html_af23796a848cd6907595256509d429963"><div class="ttname"><a href="globals_8h.html#af23796a848cd6907595256509d429963">sprite_palette</a></div><div class="ttdeci">const unsigned char sprite_palette[16]</div><div class="ttdoc">Sprite palette. </div><div class="ttdef"><b>Definition:</b> globals.h:56</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a4cfb1ded0707337c2fc5b5d31bf8078e"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a4cfb1ded0707337c2fc5b5d31bf8078e">get_controller_input</a></div><div class="ttdeci">void __fastcall__ get_controller_input(void)</div><div class="ttdoc">This function reads controller ports and stores the result into globals gamepad_1 and gamepad_2 ...</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a0b95bbe94125150eb6548fa4412af30a"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a0b95bbe94125150eb6548fa4412af30a">ppu_sprite_palette</a></div><div class="ttdeci">unsigned char ppu_sprite_palette[16]</div><div class="ttdoc">Sprite color palette. Each four entries represent one palette. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:154</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a3cbab1c8c825c8dd7e439f25de7ef390"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a3cbab1c8c825c8dd7e439f25de7ef390">ppu_reset_scroll</a></div><div class="ttdeci">void ppu_reset_scroll(void)</div><div class="ttdoc">This functions resets scrolling. This needs to be done after every render routine. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:29</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a675b5dd3acf91c5844db5be2236c8699"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a675b5dd3acf91c5844db5be2236c8699">ppu_load_sprite_palette</a></div><div class="ttdeci">void ppu_load_sprite_palette(void)</div><div class="ttdoc">this function loads the sprite color palette at ppu_sprite_palette into PPU RAM $3f10-§f1f. Use function set_sprite_palette first in order to write to ppu_sprite_palette. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.c:47</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_af991639de0a899b83418865d449fdb9e"><div class="ttname"><a href="nes__hw__functionalities_8h.html#af991639de0a899b83418865d449fdb9e">oam_offset</a></div><div class="ttdeci">unsigned char oam_offset</div><div class="ttdoc">OAM offset for next sprite to render. See ppu_load_sprite_to_oam for instructions on how to use this ...</div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:105</div></div>
<div class="ttc" id="nes__hw__functionalities_8h_html_a5abc5420a7f15af7410173395b610ea8"><div class="ttname"><a href="nes__hw__functionalities_8h.html#a5abc5420a7f15af7410173395b610ea8">index</a></div><div class="ttdeci">unsigned char index</div><div class="ttdoc">General variable for any loop purpose. </div><div class="ttdef"><b>Definition:</b> nes_hw_functionalities.h:99</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="nes__hw__functionalities_8h.html">nes_hw_functionalities.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
